<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote</title><meta name="description" content="Documentation for ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://classroom.github.com/a/T5K9tzcv"><img src="https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg" alt="Review Assignment Due Date"></a></p>
<a id="md:práctica-9" class="tsd-anchor"></a><h1><a href="#md:práctica-9">Práctica 9</a></h1><p>Inés Garrote Fontenla <a href="mailto:alu0101512297@ull.edu.es">alu0101512297@ull.edu.es</a></p>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p><a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2324_ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2324_ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote&metric=coverage" alt="Coverage"></a></p>
<a id="md:introducción" class="tsd-anchor"></a><h1><a href="#md:introducción">Introducción</a></h1><p>En el desarrollo de la Práctica 9 - Aplicación para coleccionistas de cartas Magic, hemos utilizado varias herramientas y tecnologías para implementar una aplicación eficiente y funcional. Entre estas herramientas destacan el paquete yargs, el paquete chalk y la API síncrona de Node.js para trabajar con el sistema de archivos.</p>
<p><strong>yargs</strong></p>
<p>El paquete yargs es una poderosa herramienta que nos permite parsear argumentos pasados a un programa desde la línea de comandos de una manera sencilla y eficiente. Con yargs, podemos definir comandos, opciones y manejadores asociados a cada comando de forma intuitiva. Esto facilita la interacción con nuestra aplicación desde la línea de comandos, permitiendo a los usuarios ejecutar diferentes acciones con facilidad.</p>
<p><strong>chalk</strong></p>
<p>El paquete chalk nos proporciona una forma elegante y sencilla de dar formato y color a los mensajes de salida en la consola. Con chalk, podemos resaltar la información importante, como mensajes de éxito o errores, utilizando una variedad de estilos y colores. Esto mejora la legibilidad de los mensajes y hace que la aplicación sea más atractiva visualmente para los usuarios.</p>
<p><strong>API síncrona de Node.js para trabajar con el sistema de archivos</strong></p>
<p>Node.js proporciona un conjunto de APIs para interactuar con el sistema de archivos de manera síncrona y asíncrona. En nuestra aplicación, hemos utilizado la API síncrona de Node.js para realizar operaciones de lectura, escritura y manipulación de archivos JSON que contienen la información de las cartas de cada usuario. Esto nos permite hacer persistente la colección de cartas de manera eficiente y sin complicaciones.</p>
<a id="md:desarrollo" class="tsd-anchor"></a><h1><a href="#md:desarrollo">Desarrollo</a></h1><p>En la Práctica 9, se ha desarrollado una aplicación para coleccionistas de cartas Magic, con el objetivo de almacenar y gestionar la información de las cartas de cada usuario. Esta aplicación permite realizar operaciones como añadir, modificar, eliminar, listar y leer información asociada a las cartas.</p>
<p>La aplicación está diseñada para interactuar exclusivamente desde la línea de comandos, utilizando el paquete yargs para gestionar los comandos, opciones y manejadores asociados. Además, se hace uso del paquete chalk para dar formato y color a los mensajes de salida.</p>
<p>Cada usuario puede tener su propia colección de cartas, y la información de cada carta se almacena como un archivo JSON en el sistema de archivos de la máquina donde se ejecuta la aplicación. Se utiliza el API síncrona de Node.js para trabajar con el sistema de archivos y hacer persistente la colección de cartas de cada usuario.</p>
<p>Descripción de los requisitos</p>
<p>Los requisitos de la aplicación incluyen:</p>
<ul>
<li>Permite que múltiples usuarios interactúen con ella, aunque no de manera simultánea.</li>
<li>Describe las cartas con elementos como ID, nombre, coste de maná, color, tipo, rareza, texto de reglas, fuerza/resistencia, marcas de lealtad y valor de mercado.</li>
<li>Cada usuario puede añadir, modificar, eliminar, listar y leer información de sus cartas.</li>
<li>Los mensajes de salida se muestran con formato y color mediante el uso del paquete chalk.</li>
<li>La colección de cartas de cada usuario se hace persistente almacenando cada carta como un archivo JSON en el sistema de archivos.</li>
</ul>
<p>Para ello, se ha implementado el siguiente código:</p>
<ul>
<li><strong>index.ts</strong>: Este es el punto de entrada de la aplicación. Aquí se definen los comandos, opciones y manejadores asociados a cada comando utilizando el paquete yargs. Se importan las funciones de la clase MagicApp para gestionar las operaciones de añadir, modificar, eliminar, listar y leer información de las cartas.</li>
<li><strong>card.ts</strong>: En este archivo se define la interfaz Card que describe la estructura de una carta, con elementos como ID, nombre, coste de maná, color, tipo, rareza, texto de reglas, fuerza/resistencia, marcas de lealtad y valor de mercado.</li>
</ul>
<p>Enumerados (Enums):</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">Color</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Blanco</span><span class="hl-1"> = </span><span class="hl-5">&quot;Blanco&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Azul</span><span class="hl-1"> = </span><span class="hl-5">&quot;Azul&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Negro</span><span class="hl-1"> = </span><span class="hl-5">&quot;Negro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Rojo</span><span class="hl-1"> = </span><span class="hl-5">&quot;Rojo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Verde</span><span class="hl-1"> = </span><span class="hl-5">&quot;Verde&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Incoloro</span><span class="hl-1"> = </span><span class="hl-5">&quot;Incoloro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Multicolor</span><span class="hl-1"> = </span><span class="hl-5">&quot;Multicolor&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">Tipo</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Tierra</span><span class="hl-1"> = </span><span class="hl-5">&quot;Tierra&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Criatura</span><span class="hl-1"> = </span><span class="hl-5">&quot;Criatura&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Encantamiento</span><span class="hl-1"> = </span><span class="hl-5">&quot;Encantamiento&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Conjuro</span><span class="hl-1"> = </span><span class="hl-5">&quot;Conjuro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Instantaneo</span><span class="hl-1"> = </span><span class="hl-5">&quot;Instantaneo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Artefacto</span><span class="hl-1"> = </span><span class="hl-5">&quot;Artefacto&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Planeswalker</span><span class="hl-1"> = </span><span class="hl-5">&quot;Planeswalker&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">Rareza</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">Comun</span><span class="hl-1"> = </span><span class="hl-5">&quot;Comun&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Infrecuente</span><span class="hl-1"> = </span><span class="hl-5">&quot;Infrecuente&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Rara</span><span class="hl-1"> = </span><span class="hl-5">&quot;Rara&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">Mitica</span><span class="hl-1"> = </span><span class="hl-5">&quot;Mitica&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li>Color: Enumera los diferentes colores de las cartas, como Blanco, Azul, Negro, Rojo, Verde, Incoloro y Multicolor.</li>
<li>Tipo: Enumera los tipos posibles de las cartas, como Tierra, Criatura, Encantamiento, Conjuro, Instantáneo, Artefacto y Planeswalker.</li>
<li>Rareza: Enumera las posibles rarezas de las cartas, como Común, Infrecuente, Rara y Mítica.</li>
</ul>
<p>Alias de tipo:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">type</span><span class="hl-1"> </span><span class="hl-3">fuerzaResistencia</span><span class="hl-1"> = [</span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-3">number</span><span class="hl-1">] | </span><span class="hl-3">undefined</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>fuerzaResistencia: Define un alias de tipo para representar la fuerza y resistencia de las criaturas. Es un array de dos números o undefined si la carta no es una criatura.</p>
<p>Interfaz (CartaInterface):</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">CartaIntertaz</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">costeMana</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">color</span><span class="hl-1">: </span><span class="hl-3">Color</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">tipo</span><span class="hl-1">: </span><span class="hl-3">Tipo</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">rareza</span><span class="hl-1">: </span><span class="hl-3">Rareza</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">textoReglas</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">fuerzaResistencia</span><span class="hl-1">: </span><span class="hl-3">fuerzaResistencia</span><span class="hl-1">; </span><span class="hl-7">// sólo se incluyen en aquellas cartas de tipo Criatura</span><br/><span class="hl-1">  </span><span class="hl-6">marcasLealtad</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> | </span><span class="hl-3">undefined</span><span class="hl-1">; </span><span class="hl-7">// Solo en cartas Planeswalker</span><br/><span class="hl-1">  </span><span class="hl-6">valorMercado</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Define la estructura que deben seguir las cartas. Esta interfaz especifica los campos que deben estar presentes en una carta, como el ID, nombre, coste de maná, color, tipo, rareza, texto de reglas, fuerza y resistencia (solo para criaturas), marcas de lealtad (solo para planeswalkers) y valor de mercado.</p>
<p>Clase Carta:</p>
<pre><code class="language-typescript"><span class="hl-1">    </span><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Carta</span><span class="hl-1"> </span><span class="hl-2">implements</span><span class="hl-1"> </span><span class="hl-3">CartaIntertaz</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">costeMana</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">color</span><span class="hl-1">: </span><span class="hl-3">Color</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">tipo</span><span class="hl-1">: </span><span class="hl-3">Tipo</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">rareza</span><span class="hl-1">: </span><span class="hl-3">Rareza</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">textoReglas</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">valorMercado</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">fuerzaResistencia</span><span class="hl-1">: </span><span class="hl-3">fuerzaResistencia</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">marcasLealtad</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1"> | </span><span class="hl-3">undefined</span><br/><span class="hl-1">    </span><br/><span class="hl-1">  ) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1"> = </span><span class="hl-6">id</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">nombre</span><span class="hl-1"> = </span><span class="hl-6">nombre</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">costeMana</span><span class="hl-1"> = </span><span class="hl-6">costeMana</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">color</span><span class="hl-1"> = </span><span class="hl-6">color</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">tipo</span><span class="hl-1"> = </span><span class="hl-6">tipo</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">rareza</span><span class="hl-1"> = </span><span class="hl-6">rareza</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">textoReglas</span><span class="hl-1"> = </span><span class="hl-6">textoReglas</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">valorMercado</span><span class="hl-1"> = </span><span class="hl-6">valorMercado</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">tipo</span><span class="hl-1"> === </span><span class="hl-6">Tipo</span><span class="hl-1">.</span><span class="hl-6">Criatura</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">fuerzaResistencia</span><span class="hl-1"> == </span><span class="hl-2">undefined</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">Error</span><span class="hl-1">(</span><span class="hl-5">&#39;Las criaturas deben tener fuerza y resistencia&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">fuerzaResistencia</span><span class="hl-1"> = </span><span class="hl-6">fuerzaResistencia</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">tipo</span><span class="hl-1"> === </span><span class="hl-6">Tipo</span><span class="hl-1">.</span><span class="hl-6">Planeswalker</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">marcasLealtad</span><span class="hl-1"> == </span><span class="hl-2">undefined</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-8">Error</span><span class="hl-1">(</span><span class="hl-5">&#39;Los planeswalker deben tener marcas de lealtad&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">marcasLealtad</span><span class="hl-1"> = </span><span class="hl-6">marcasLealtad</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  } </span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Representa una carta de Magic, Implementa la interfaz CartaInterface.
El constructor de la clase acepta los parámetros necesarios para crear una carta, como el ID, nombre, coste de maná, color, tipo, rareza, texto de reglas, valor de mercado, fuerza y resistencia (si es una criatura) y marcas de lealtad (si es un planeswalker).
El constructor valida que las cartas de tipo criatura tengan fuerza y resistencia definidas, y que las cartas de tipo planeswalker tengan marcas de lealtad definidas. Si no se proporcionan estos valores según el tipo de carta, se arroja un error.</p>
<ul>
<li><strong>usuario.ts</strong>: En este archivo se define la interfaz Usuario que describe la estructura de un usuario, con elementos como nombre y colección de cartas y los métodos para añadir, modificar, eliminar, listar y leer información de las cartas.</li>
</ul>
<p>Clase Usuario:</p>
<pre><code class="language-typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Usuario</span><span class="hl-1"> {</span><br/><span class="hl-2">public</span><span class="hl-1">  </span><span class="hl-6">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">coleccion</span><span class="hl-1">: </span><span class="hl-3">Carta</span><span class="hl-1">[];</span><br/><br/><span class="hl-1">  </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-6">nombre</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">nombre</span><span class="hl-1"> = </span><span class="hl-6">nombre</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1"> = [];</span><br/><span class="hl-1">  }</span><br/>
</code><button>Copy</button></pre>
<p>Define una clase llamada Usuario que representa un usuario del sistema.
Tiene dos propiedades públicas:
nombre: El nombre del usuario.
coleccion: Una matriz que almacena las cartas de la colección del usuario.
Tiene un constructor que acepta el nombre del usuario y inicializa la colección como una matriz vacía.</p>
<p>Métodos:</p>
<p>getNombre(): Un método que devuelve el nombre del usuario.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-8">getNombre</span><span class="hl-1">(): </span><span class="hl-6">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">nombre</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>agregarCarta(carta: Carta): Un método que agrega una carta a la colección del usuario. Verifica si ya existe una carta con el mismo ID en la colección antes de agregarla.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-8">agregarCarta</span><span class="hl-1">(</span><span class="hl-6">carta</span><span class="hl-1">: </span><span class="hl-6">Carta</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">cargarColeccion</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">cartaExistente</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">.</span><span class="hl-8">find</span><span class="hl-1">((</span><span class="hl-6">c</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-6">c</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1"> === </span><span class="hl-6">carta</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">cartaExistente</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><span class="hl-5">&quot;¡Error! Ya existe una carta con ese ID en la colección.&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">.</span><span class="hl-8">push</span><span class="hl-1">(</span><span class="hl-6">carta</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">green</span><span class="hl-1">(</span><span class="hl-5">&quot;¡Carta añadida a la colección con éxito!&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">guardarColeccion</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>modificarCarta(id: number, nuevaCarta: Carta): Un método que modifica una carta existente en la colección del usuario, reemplazándola con una nueva carta.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-8">modificarCarta</span><span class="hl-1">(</span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">, </span><span class="hl-6">nuevaCarta</span><span class="hl-1">: </span><span class="hl-6">Carta</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">cargarColeccion</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">index</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">.</span><span class="hl-8">findIndex</span><span class="hl-1">((</span><span class="hl-6">c</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-6">c</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1"> === </span><span class="hl-6">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">index</span><span class="hl-1"> === -</span><span class="hl-9">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><br/><span class="hl-1">          </span><span class="hl-5">&quot;¡Error! No se encontró ninguna carta con ese ID en la colección.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        ),</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">[</span><span class="hl-6">index</span><span class="hl-1">] = </span><span class="hl-6">nuevaCarta</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">green</span><span class="hl-1">(</span><span class="hl-5">&quot;¡Carta modificada con éxito!&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">guardarColeccion</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>eliminarCarta(id: number): Un método que elimina una carta de la colección del usuario.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-8">eliminarCarta</span><span class="hl-1">(</span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">cargarColeccion</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">index</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">.</span><span class="hl-8">findIndex</span><span class="hl-1">((</span><span class="hl-6">c</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-6">c</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1"> === </span><span class="hl-6">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">index</span><span class="hl-1"> === -</span><span class="hl-9">1</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><br/><span class="hl-1">          </span><span class="hl-5">&quot;¡Error! No se encontró ninguna carta con ese ID en la colección.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        ),</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">.</span><span class="hl-8">splice</span><span class="hl-1">(</span><span class="hl-6">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">); </span><span class="hl-7">// Eliminar 1 elemento en la posición index</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">green</span><span class="hl-1">(</span><span class="hl-5">&quot;¡Carta eliminada con éxito!&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">guardarColeccion</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>listarCartas(): Un método que lista todas las cartas de la colección del usuario en la consola, mostrando su ID, nombre y color.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-8">listarCartas</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">cargarColeccion</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">blue</span><span class="hl-1">(</span><span class="hl-5">`Cartas de </span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-10">.</span><span class="hl-6">nombre</span><span class="hl-2">}</span><span class="hl-5">:`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">.</span><span class="hl-8">forEach</span><span class="hl-1">(</span><span class="hl-6">carta</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`ID: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">id</span><span class="hl-2">}</span><span class="hl-5">, Nombre: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">nombre</span><span class="hl-2">}</span><span class="hl-5">, Color: </span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-10">.</span><span class="hl-8">getColorString</span><span class="hl-10">(</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">color</span><span class="hl-10">)</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>mostrarCarta(id: number): Un método que muestra la información detallada de una carta específica de la colección del usuario en la consola.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-8">getColorString</span><span class="hl-1">(</span><span class="hl-6">color</span><span class="hl-1">: </span><span class="hl-6">Color</span><span class="hl-1">): </span><span class="hl-6">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-6">color</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-6">Color</span><span class="hl-1">.</span><span class="hl-6">Blanco</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">white</span><span class="hl-1">(</span><span class="hl-6">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-6">Color</span><span class="hl-1">.</span><span class="hl-6">Azul</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">blue</span><span class="hl-1">(</span><span class="hl-6">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-6">Color</span><span class="hl-1">.</span><span class="hl-6">Negro</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">black</span><span class="hl-1">(</span><span class="hl-6">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-6">Color</span><span class="hl-1">.</span><span class="hl-6">Rojo</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><span class="hl-6">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-6">Color</span><span class="hl-1">.</span><span class="hl-6">Verde</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">green</span><span class="hl-1">(</span><span class="hl-6">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-6">Color</span><span class="hl-1">.</span><span class="hl-6">Incoloro</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">gray</span><span class="hl-1">(</span><span class="hl-6">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-6">Color</span><span class="hl-1">.</span><span class="hl-6">Multicolor</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-6">color</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">color</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>getColorString(color: Color): Un método privado que devuelve una cadena de texto con el color de la carta formateado con colores utilizando el paquete chalk.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-8">mostrarCarta</span><span class="hl-1">(</span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-8">cargarColeccion</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">carta</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">.</span><span class="hl-8">find</span><span class="hl-1">(</span><span class="hl-6">c</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-6">c</span><span class="hl-1">.</span><span class="hl-6">id</span><span class="hl-1"> === </span><span class="hl-6">id</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-6">carta</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">red</span><span class="hl-1">(</span><span class="hl-5">&#39;¡Error! No se encontró ninguna carta con ese ID en la colección.&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">blue</span><span class="hl-1">(</span><span class="hl-5">`Información de la carta ID </span><span class="hl-2">${</span><span class="hl-6">id</span><span class="hl-2">}</span><span class="hl-5">:`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Nombre: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">nombre</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Coste de maná: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">costeMana</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Color: </span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-10">.</span><span class="hl-8">getColorString</span><span class="hl-10">(</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">color</span><span class="hl-10">)</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Tipo: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">tipo</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Rareza: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">rareza</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Texto de reglas: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">textoReglas</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">carta</span><span class="hl-1">.</span><span class="hl-6">fuerzaResistencia</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Fuerza/Resistencia: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">fuerzaResistencia</span><span class="hl-10">[</span><span class="hl-9">0</span><span class="hl-10">]</span><span class="hl-2">}</span><span class="hl-5">/</span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">fuerzaResistencia</span><span class="hl-10">[</span><span class="hl-9">1</span><span class="hl-10">]</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">carta</span><span class="hl-1">.</span><span class="hl-6">marcasLealtad</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Marcas de lealtad: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">marcasLealtad</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-6">chalk</span><span class="hl-1">.</span><span class="hl-8">yellow</span><span class="hl-1">(</span><span class="hl-5">`Valor de mercado: </span><span class="hl-2">${</span><span class="hl-6">carta</span><span class="hl-10">.</span><span class="hl-6">valorMercado</span><span class="hl-2">}</span><span class="hl-5">`</span><span class="hl-1">));</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>guardarColeccion(): Un método privado que guarda la colección de cartas del usuario en un archivo JSON en el sistema de archivos.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-8">guardarColeccion</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">rutaArchivo</span><span class="hl-1"> = </span><span class="hl-5">`./src/magic/</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-10">.</span><span class="hl-6">nombre</span><span class="hl-2">}</span><span class="hl-5">_coleccion.json`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">fs</span><span class="hl-1">.</span><span class="hl-8">writeFileSync</span><span class="hl-1">(</span><span class="hl-6">rutaArchivo</span><span class="hl-1">, </span><span class="hl-4">JSON</span><span class="hl-1">.</span><span class="hl-8">stringify</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1">, </span><span class="hl-2">null</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">));</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<p>cargarColeccion(): Un método público que carga la colección de cartas del usuario desde un archivo JSON en el sistema de archivos.</p>
<pre><code class="language-typescript"><span class="hl-1">  </span><span class="hl-6">public</span><span class="hl-1"> </span><span class="hl-8">cargarColeccion</span><span class="hl-1">(): </span><span class="hl-2">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">rutaArchivo</span><span class="hl-1"> = </span><span class="hl-5">`./src/magic/</span><span class="hl-2">${</span><span class="hl-2">this</span><span class="hl-10">.</span><span class="hl-6">nombre</span><span class="hl-2">}</span><span class="hl-5">_coleccion.json`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">fs</span><span class="hl-1">.</span><span class="hl-8">existsSync</span><span class="hl-1">(</span><span class="hl-6">rutaArchivo</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1"> = </span><span class="hl-6">fs</span><span class="hl-1">.</span><span class="hl-8">readFileSync</span><span class="hl-1">(</span><span class="hl-6">rutaArchivo</span><span class="hl-1">, </span><span class="hl-5">&quot;utf-8&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">coleccion</span><span class="hl-1"> = </span><span class="hl-4">JSON</span><span class="hl-1">.</span><span class="hl-8">parse</span><span class="hl-1">(</span><span class="hl-6">data</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span>
</code><button>Copy</button></pre>
<a id="md:ejercicios-clase" class="tsd-anchor"></a><h1><a href="#md:ejercicios-clase">ejercicios clase</a></h1><p>Durante la sesión de prácticas se planteó un ejercicio usando el patrón template method. Se pidió que se implementara una clase abstracta que contuviera un método plantilla que llamara a otros métodos abstractos. Cada subclase debía implementar estos métodos abstractos de forma diferente. A continuación se muestra la implementación de este ejercicio.</p>
<p>En concreto una clase abstracta FilterMapReduce y luego sus subclases FilterMapRAddReduce, FilterMapRSubReduce, FilterMapProdReduce y FilterMapRDivReduce.</p>
<p>Tuve alguno fallos en la implementación de las subclases, pero finalmente se consiguió implementar correctamente.</p>
<a id="md:conclusión" class="tsd-anchor"></a><h1><a href="#md:conclusión">Conclusión</a></h1><p>En conclusión, la Práctica 9 ha sido una oportunidad para aprender a utilizar herramientas y tecnologías como yargs, chalk y la API síncrona de Node.js para desarrollar una aplicación funcional y eficiente. La aplicación para coleccionistas de cartas Magic permite a los usuarios gestionar su colección de cartas de una manera sencilla y efectiva, utilizando comandos desde la línea de comandos.</p>
<p>Los ejercicio de clase han sido una oportunidad para practicar la implementación de patrones de diseño como el template method, que nos permite definir la estructura de un algoritmo en una clase base y permitir a las subclases implementar los pasos concretos de ese algoritmo de forma personalizada.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:práctica-9"><span>Práctica 9</span></a><a href="#md:introducción"><span>Introducción</span></a><a href="#md:desarrollo"><span>Desarrollo</span></a><a href="#md:ejercicios-clase"><span>ejercicios clase</span></a><a href="#md:conclusión"><span>Conclusión</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-inesgarrote</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>